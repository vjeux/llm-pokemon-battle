# Pokemon Battle Simulator - LLM vs LLM

A Pokemon battle simulator where different Large Language Models (LLMs) compete against each other using the Pokemon Showdown battle engine.

üèÜ Tournament Results

```
ü•á 1. Gemini 2.5 Pro
     Match Wins: 5 | Total Game Wins: 15
ü•à 2. Gemini 2.5 Flash
     Match Wins: 4 | Total Game Wins: 14
ü•â 3. Claude Haiku 4.5
     Match Wins: 2 | Total Game Wins: 10
   4. GPT-4o
     Match Wins: 2 | Total Game Wins: 10
   5. GPT-4o-mini
     Match Wins: 2 | Total Game Wins: 9
   6. Claude 3.7 Sonnet
     Match Wins: 0 | Total Game Wins: 1
```

üìä Match Results

(Note that LLMs in some cases chose an invalid pokemon switch (either dead or the current pokemon) which right now is discarded, this is why some battles have more than 5 games).

- **Gemini 2.5 Flash** defeats Claude Haiku 4.5 (3-1): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match1_battle1_0fcad99a-2468-434c-88c6-f84d9d7e7c86.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match1_battle2_fd41452a-9af6-486c-884f-659e704d91d9.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match1_battle3_dbf7fbc8-9674-4694-b12f-bc704e36ffd5.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match1_battle4_fb4c3f55-7a70-4206-90a7-ab507be2e752.html)
- **Claude Haiku 4.5** defeats GPT-4o-mini (3-1): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match2_battle1_ffca71d1-1263-4579-8ecb-ba37272493d2.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match2_battle2_a8a25472-e227-4468-8dab-ef7345e20064.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match2_battle3_5412a58c-b741-404b-a197-b6433d6eb5bc.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match2_battle4_a2bb1b94-db2d-40ea-b5a7-53dae30675ab.html) [[5]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match2_battle5_ce77553f-6c0c-4193-a7c7-b860e8c86f4e.html) [[6]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match2_battle6_53ffec4a-4bd6-4056-8ac9-32b88794b901.html) [[7]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match2_battle7_a5acf675-ce6e-45c3-8394-bb70ee56904d.html)
- **GPT-4o** defeats Claude Haiku 4.5 (3-1): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match3_battle1_fcfb8ccb-6dfd-4f4e-8174-dea49b6a64ee.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match3_battle2_ad099ed0-7224-4e44-b67a-889a443a6634.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match3_battle3_61f2f0dd-5f4d-4a87-bfd4-81997d1c7bf6.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match3_battle4_e9e6b876-0960-4bee-917d-39b65d8e2c77.html)
- **Claude Haiku 4.5** defeats Claude 3.7 Sonnet (3-1): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match4_battle1_2b98fcba-ac3d-45d6-8ec8-28e05a568ba4.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match4_battle2_17e08f90-96d7-44e8-a4ed-be77d9fc28cc.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match4_battle3_d0eb11ca-f6d5-47f7-a472-87de7f584668.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match4_battle4_47ad0a95-fc9d-488a-b26b-c8d0f0789288.html)
- **Gemini 2.5 Pro** defeats Claude Haiku 4.5 (3-2): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match5_battle1_f6cc2550-0030-44ac-85f4-29be00723906.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match5_battle2_509695bc-0e18-4c02-9a3f-cd392e245378.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match5_battle3_db4005d1-e8b6-4001-95d8-eb7ebba138da.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match5_battle4_0c25e4a6-e8ff-4632-9ff0-64d6113978f6.html) [[5]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match5_battle5_0757c0bc-6c68-4b27-8660-e3a66d9c8e50.html) [[6]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match5_battle6_a6cd8eb5-3851-45ca-92ff-95a8463d54fe.html)
- **Gemini 2.5 Flash** defeats GPT-4o-mini (3-2): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match6_battle1_4525a1b3-7c5d-4ca9-af1e-e9d3a95d56bb.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match6_battle2_c078cb4f-3b1b-4756-adc4-9abd198a276d.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match6_battle3_05430959-2d0d-494b-9f1b-1383379a13f9.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match6_battle4_e4155673-099f-49b9-ac13-ba2bdf526aa1.html) [[5]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match6_battle5_8299deff-63d5-490c-9ebd-1407331ff23c.html) [[6]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match6_battle6_0c835eb3-ee1a-4b52-8448-02271509fb76.html)
- **Gemini 2.5 Flash** defeats GPT-4o (3-2): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match7_battle1_1d7329c7-5745-4d1e-bc80-e36f7c44caf3.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match7_battle2_5d5b3ac7-0088-4dd3-a590-14b68590cd1f.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match7_battle3_2fb6967c-51d4-4360-baaf-107461e34551.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match7_battle4_8060816b-a6bd-43c8-abdf-3b3ac8331edd.html) [[5]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match7_battle5_6707ed1d-5105-4474-abc0-24140c2ee18a.html) [[6]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match7_battle6_6e4b4bac-19aa-4546-89fd-ea2f09b67f3c.html) [[7]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match7_battle7_267d99f6-6b42-48c8-9958-2d8a160227b9.html)
- **Gemini 2.5 Flash** defeats Claude 3.7 Sonnet (3-0): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match8_battle1_34bd92db-4ae3-45bb-a11f-1a516f8de932.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match8_battle2_5cf2eec5-e9b7-4b49-b263-458e6d3528ec.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match8_battle3_503f0c76-aa77-4794-9c15-b9b3a61a0248.html)
- **Gemini 2.5 Pro** defeats Gemini 2.5 Flash (3-2): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match9_battle1_ed9f6b2d-e109-4b0a-bbcb-adfa9f540342.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match9_battle2_8bdccc3a-5d5e-4acd-8bd9-ae59a8229825.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match9_battle3_d6cf0912-bb76-4281-aab9-41ede1f1a8d3.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match9_battle4_f7344e1e-6f35-4dea-9eb6-7829a4710fbb.html) [[5]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match9_battle5_cce3f948-843b-4869-af2f-aae3f72c7792.html)
- **GPT-4o-mini** defeats GPT-4o (3-1): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match10_battle1_3d247b35-5bc0-40c4-b795-55a66e8aff19.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match10_battle2_f9beb073-aa20-4fbc-a21c-6c614232aee8.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match10_battle3_df336344-99e3-41ec-8630-aab2c421e172.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match10_battle4_750340b9-71da-4d8b-a24c-69b124a20f76.html) [[5]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match10_battle5_90a03921-a370-446a-aa0f-cd36c60b22b3.html)
- **GPT-4o-mini** defeats Claude 3.7 Sonnet (3-0): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match11_battle1_c6d84f42-3d3b-4f23-aadf-4d9129c60ece.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match11_battle2_6fa85710-aa00-4f86-948f-76a9b9fca4e8.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match11_battle3_d060619a-6b55-4496-b410-55764ac94c03.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match11_battle4_f61188a7-c08b-48ea-8403-7f23bea84f2c.html)
- **Gemini 2.5 Pro** defeats GPT-4o-mini (3-0): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match12_battle1_2ee4c6f0-b07a-48fc-abf2-19b17658c3f6.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match12_battle2_53bbb4ec-7eea-417c-9fca-a2447d53ca4b.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match12_battle3_ac0c4d15-91b5-480b-b9fa-c349d5cf09a1.html)
- **GPT-4o** defeats Claude 3.7 Sonnet (3-0): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match13_battle1_7beffca6-674b-420a-a572-6dbf0c59654d.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match13_battle2_216bdbf3-78da-4f69-9d31-2bf3a4bbf944.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match13_battle3_095ea7b4-1087-489f-b858-bf9a409d2019.html)
- **Gemini 2.5 Pro** defeats GPT-4o (3-1): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match14_battle1_b96c6832-8ba5-48c4-be89-24e79c0a4c32.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match14_battle2_f06287f1-e73e-4cd1-bb16-715329f5d276.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match14_battle3_9bbd763d-e15d-482e-898d-f3331aa671ff.html) [[4]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match14_battle4_15216e09-6371-4fa8-83f0-1c36ebe3d0ec.html)
- **Gemini 2.5 Pro** defeats Claude 3.7 Sonnet (3-0): [[1]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match15_battle1_f815b052-2347-4c9f-8347-cc6e228907e2.html) [[2]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match15_battle2_280dcfa5-e268-493e-8e60-e9dab1e681a3.html) [[3]](https://vjeux.github.io/llm-pokemon-battle/tournament-b22b727c-42cc-4099-83bf-2bc47c215591/match15_battle3_8cd09d6b-e5d6-49ce-bba1-006bf6030074.html)

## Installation

1. Install dependencies:
```bash
npm install
```

2. Set up environment variables:
```bash
# Create a .env file with your API keys
export ANTHROPIC_API_KEY="your-anthropic-api-key"
export OPENAI_API_KEY="your-openai-api-key"
export GOOGLE_GENERATIVE_AI_API_KEY="your-google-api-key"
```

## Usage

### Single Battle

Run a battle between two LLMs:

```bash
npm start
```

This will:
1. Initialize a battle between Claude Haiku 4.5 and Claude 3.7 Sonnet
2. Have the LLMs make strategic decisions each turn
3. Display the battle progress in the console
4. Generate an HTML battle replay file
5. Show decision history for both players

### Tournament Mode

Run a round-robin tournament with multiple LLMs where each matchup is a best-of-5:

```bash
npm run tournament
```

This will:
- Create a unique tournament folder (e.g., `tournament-<guid>`) for all replay files
- Run best-of-5 matches between all configured LLMs (first to 3 wins)
- Track match wins (primary ranking) and total game wins (tiebreaker)
- Generate individual HTML files for each battle in the tournament folder
- Display final standings with tournament champion
- Currently includes 6 models: Claude Haiku 4.5, Claude 3.7 Sonnet, GPT-4o-mini, GPT-4o, Gemini 1.5 Flash, Gemini 1.5 Pro

## Customization

### Using Different LLMs

Edit `src/index.ts` to configure different models:

```typescript
const player1 = new LLMPlayer({
  model: anthropic('claude-3-7-sonnet-latest'),  // or other Claude models
  name: 'Claude 3.7 Sonnet',
});

const player2 = new LLMPlayer({
  model: openai('gpt-4o'),  // or 'gpt-4o-mini', 'gpt-4-turbo', etc.
  name: 'GPT-4o',
});

// Or use Google Gemini models
import { google } from '@ai-sdk/google';
const player3 = new LLMPlayer({
  model: google('gemini-1.5-flash'),  // or 'gemini-1.5-pro', 'gemini-2.0-flash-exp', etc.
  name: 'Gemini 1.5 Flash',
});
```

You can use any model supported by the [AI SDK](https://ai-sdk.dev/providers).

### Battle Format

Change the Pokemon battle format in `src/index.ts`:

```typescript
const result = await coordinator.runBattle('gen9randombattle');
// Options: 'gen9ou', 'gen9uu', 'gen8randombattle', etc.
```

### Max Turns

Limit the maximum number of turns:

```typescript
const coordinator = new BattleCoordinator(player1, player2, 100); // max 100 turns
```

## Project Structure

```
pokemon-battle/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ battle.ts        # Pokemon Showdown battle wrapper
‚îÇ   ‚îú‚îÄ‚îÄ llm-player.ts    # LLM player that makes battle decisions
‚îÇ   ‚îú‚îÄ‚îÄ coordinator.ts   # Battle coordinator managing LLM vs LLM matches
‚îÇ   ‚îú‚îÄ‚îÄ viewer.ts        # HTML battle visualization generator
‚îÇ   ‚îî‚îÄ‚îÄ index.ts         # Main entry point
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ README.md
```

## How It Works

1. **Battle Initialization**: Creates a Pokemon Showdown battle stream with random teams
2. **LLM Decision Making**: Each turn, the LLM receives:
   - Current battle state
   - Available moves and their properties
   - Team status
   - Recent battle history
3. **Strategic Thinking**: The LLM analyzes the situation and chooses the best move
4. **Move Execution**: Choices are submitted to the Pokemon Showdown simulator
5. **Dual Visualization**: Battle exported as:
   - Custom HTML visualization with beautiful styling
   - Pokemon Showdown compatible replay format

See [REPLAY-GUIDE.md](REPLAY-GUIDE.md) for details on using the Pokemon Showdown replay files.

## Example Output

```
üéÆ Pokemon Battle Simulator - LLM vs LLM

üéÆ Starting battle: Claude Haiku 4.5 vs Claude 3.7 Sonnet
üìù Battle ID: a1b2c3d4-e5f6-7890-abcd-ef1234567890

üìù Claude Haiku 4.5 is thinking...
   ‚Üí Chose: move 2

üìù Claude 3.7 Sonnet is thinking...
   ‚Üí Chose: move 1

...

‚öîÔ∏è  Battle ended!

============================================================
üìä BATTLE RESULTS
============================================================
Battle ID: a1b2c3d4-e5f6-7890-abcd-ef1234567890
Winner: Claude 3.7 Sonnet
Total turns: 23

‚úÖ Battle replay saved to: /path/to/battle-a1b2c3d4-e5f6-7890-abcd-ef1234567890-gen9randombattle-claudehaiku45-vs-claude37sonnet.html
   Open this file in your browser to view the battle!
```

## Technologies Used

- [Pokemon Showdown](https://github.com/smogon/pokemon-showdown) - Battle simulator
- [AI SDK](https://ai-sdk.dev/) - Unified LLM interface
- TypeScript - Type-safe development
- Node.js - Runtime environment

## License

MIT

## Contributing

Feel free to submit issues or pull requests!
